# ì‹œë†€ë¡œì§€ NAS ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ì„œë¸Œë„ë©”ì¸ ê´€ë¦¬ ê°€ì´ë“œ

## ğŸŒ ê°œìš”

ì‹œë†€ë¡œì§€ NASì˜ ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ `crossman.synology.me` ë„ë©”ì¸ì˜ ì„œë¸Œë„ë©”ì¸ì„ ìë™ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” í†µí•© ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

## ğŸ“‹ ì§€ì› ì„œë¹„ìŠ¤

| ì„œë¹„ìŠ¤ | ì„œë¸Œë„ë©”ì¸ | ì™¸ë¶€í¬íŠ¸ | ë‚´ë¶€í¬íŠ¸ | ì„¤ëª… |
|--------|------------|----------|----------|------|
| n8n | n8n.crossman.synology.me | 31001 | 5678 | ì›Œí¬í”Œë¡œìš° ìë™í™” |
| mcp | mcp.crossman.synology.me | 31002 | 31002 | ëª¨ë¸ ì»¨í…ìŠ¤íŠ¸ í”„ë¡œí† ì½œ |
| uptime | uptime.crossman.synology.me | 31003 | 31003 | ëª¨ë‹ˆí„°ë§ ì„œë¹„ìŠ¤ |
| code | code.crossman.synology.me | 8484 | 8484 | VSCode ì›¹ í™˜ê²½ |
| gitea | git.crossman.synology.me | 3000 | 3000 | Git ì €ì¥ì†Œ |
| dsm | dsm.crossman.synology.me | 5001 | 5001 | NAS ê´€ë¦¬ íŒ¨ë„ |

## ğŸš€ ì‚¬ìš©ë²•

### 1. ëŒ€í™”í˜• ëª¨ë“œ (ê¶Œì¥)

```bash
# í†µí•© ê´€ë¦¬ ì‹œìŠ¤í…œ ì‹¤í–‰
./subdomain-manager.sh
```

ëŒ€í™”í˜• ë©”ë‰´ì—ì„œ ë‹¤ìŒ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
- ê¸°ì¡´ ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ê·œì¹™ ì¡°íšŒ
- íŠ¹ì • ì„œë¹„ìŠ¤ ì„œë¸Œë„ë©”ì¸ ì¶”ê°€
- ëª¨ë“  ì„œë¸Œë„ë©”ì¸ ìë™ ì„¤ì •
- ì„œë¸Œë„ë©”ì¸ ì ‘ì† ìƒíƒœ í™•ì¸
- ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ê·œì¹™ ì‚­ì œ
- ì„œë¹„ìŠ¤ ëª©ë¡ ë³´ê¸°
- ë„¤íŠ¸ì›Œí¬ í™˜ê²½ ì¬í™•ì¸

### 2. ì§ì ‘ ëª…ë ¹ ì‹¤í–‰

```bash
# ë„¤íŠ¸ì›Œí¬ ë° DSM ì—°ê²° í™•ì¸
./subdomain-manager.sh check

# ê¸°ì¡´ ê·œì¹™ ì¡°íšŒ
./subdomain-manager.sh list

# íŠ¹ì • ì„œë¹„ìŠ¤ ì¶”ê°€
./subdomain-manager.sh add n8n

# ëª¨ë“  ì„œë¸Œë„ë©”ì¸ ì„¤ì •
./subdomain-manager.sh setup-all

# ì ‘ì† ìƒíƒœ í™•ì¸
./subdomain-manager.sh status

# ê·œì¹™ ì‚­ì œ
./subdomain-manager.sh delete 1
```

### 3. Windows PowerShellì—ì„œ ì‚¬ìš©

```powershell
# íŠ¹ì • ì„œë¹„ìŠ¤ ì¶”ê°€
.\reverse-proxy-manager.ps1 -Command add -Parameter n8n

# ëª¨ë“  ì„œë¸Œë„ë©”ì¸ ì„¤ì •
.\reverse-proxy-manager.ps1 -Command setup-all

# ê·œì¹™ ì¡°íšŒ
.\reverse-proxy-manager.ps1 -Command list

# ìƒíƒœ í™•ì¸
.\reverse-proxy-manager.ps1 -Command status
```

## ğŸ”§ í™˜ê²½ ì„¤ì •

### í™˜ê²½ë³€ìˆ˜

ë‹¤ìŒ í™˜ê²½ë³€ìˆ˜ë¥¼ ì„¤ì •í•˜ì—¬ ê¸°ë³¸ê°’ì„ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```bash
export DSM_HOST="192.168.0.5"      # DSM í˜¸ìŠ¤íŠ¸ ì£¼ì†Œ
export DSM_PORT="5001"             # DSM í¬íŠ¸ ë²ˆí˜¸
export DSM_USER="crossman"         # DSM ì‚¬ìš©ìëª…
export DSM_PASS="your_password"    # DSM ë¹„ë°€ë²ˆí˜¸ (ì„ íƒì‚¬í•­)
```

### ë„¤íŠ¸ì›Œí¬ ìš”êµ¬ì‚¬í•­

1. **ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ (192.168.0.x)**: ì§ì ‘ ì ‘ì† ê°€ëŠ¥
2. **ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬**: OpenVPN ì—°ê²° í•„ìˆ˜

```bash
# ë„¤íŠ¸ì›Œí¬ í™˜ê²½ í™•ì¸
./network-check.sh check

# OpenVPN ì—°ê²° ê°€ì´ë“œ
./network-check.sh vpn
```

## ğŸ”’ ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

### SSL/TLS ì„¤ì •

ëª¨ë“  ì„œë¸Œë„ë©”ì¸ì€ HTTPS(í¬íŠ¸ 443)ë¥¼ í†µí•´ ì ‘ì†í•˜ë„ë¡ ì„¤ì •ë©ë‹ˆë‹¤:
- ì†ŒìŠ¤: `https://ì„œë¸Œë„ë©”ì¸:443`
- ëŒ€ìƒ: `http://localhost:ë‚´ë¶€í¬íŠ¸`

### ë°©í™”ë²½ ì„¤ì •

DSMì—ì„œ ë‹¤ìŒ í¬íŠ¸ë“¤ì´ ì—´ë ¤ìˆì–´ì•¼ í•©ë‹ˆë‹¤:
- 5001 (HTTPS DSM ì ‘ì†)
- 31001, 31002, 31003 (ì™¸ë¶€ ì„œë¹„ìŠ¤ í¬íŠ¸)
- 8484, 3000 (ì½”ë“œì„œë²„, Git)

### ì ‘ê·¼ ì œì–´

- VPNì„ í†µí•œ ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ ì ‘ê·¼ ê¶Œì¥
- ì™¸ë¶€ ì§ì ‘ ì ‘ì†ì€ ë³´ì•ˆìƒ ê¶Œì¥í•˜ì§€ ì•ŠìŒ
- ê° ì„œë¹„ìŠ¤ë³„ ê°œë³„ ì¸ì¦ ì„¤ì • ê¶Œì¥

## ğŸ› ï¸ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### 1. DSM ë¡œê·¸ì¸ ì‹¤íŒ¨

```bash
# DSM ì—°ê²° ìƒíƒœ í™•ì¸
curl -k https://192.168.0.5:5001

# ì‚¬ìš©ì ê³„ì • ë° ê¶Œí•œ í™•ì¸
# DSM > ì œì–´íŒ > ì‚¬ìš©ì ê³„ì •ì—ì„œ ê´€ë¦¬ì ê¶Œí•œ í™•ì¸
```

### 2. ì„œë¸Œë„ë©”ì¸ ì ‘ì† ë¶ˆê°€

```bash
# ë‚´ë¶€ ì„œë¹„ìŠ¤ ë™ì‘ í™•ì¸
curl http://localhost:5678  # n8n ì˜ˆì‹œ

# DNS ì„¤ì • í™•ì¸
nslookup n8n.crossman.synology.me

# ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ê·œì¹™ í™•ì¸
./subdomain-manager.sh list
```

### 3. ë„¤íŠ¸ì›Œí¬ ì—°ê²° ë¬¸ì œ

```bash
# ë„¤íŠ¸ì›Œí¬ í™˜ê²½ ì¬í™•ì¸
./network-check.sh check

# OpenVPN ì—°ê²° í™•ì¸
ip link show | grep tun

# NAS ì—°ê²° í…ŒìŠ¤íŠ¸
ping 192.168.0.5
```

### 4. API í˜¸ì¶œ ì‹¤íŒ¨

- DSM ê´€ë¦¬ì ê¶Œí•œ í™•ì¸
- API ì œí•œ ì„¤ì • í™•ì¸ (DSM > ì œì–´íŒ > ë³´ì•ˆ > ê³„ì •)
- ì„¸ì…˜ íƒ€ì„ì•„ì›ƒ í™•ì¸

## ğŸ“ íŒŒì¼ êµ¬ì¡°

```
CPSE/
â”œâ”€â”€ subdomain-manager.sh           # í†µí•© ê´€ë¦¬ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ reverse-proxy-manager.sh       # ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ê´€ë¦¬ (Bash)
â”œâ”€â”€ reverse-proxy-manager.ps1      # ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ê´€ë¦¬ (PowerShell)
â”œâ”€â”€ network-check.sh               # ë„¤íŠ¸ì›Œí¬ í™˜ê²½ ì²´í¬
â”œâ”€â”€ nas-connect.sh                 # NAS ì—°ê²° ë„ìš°ë¯¸
â””â”€â”€ docs/
    â””â”€â”€ reverse-proxy-guide.md     # ì´ ë¬¸ì„œ
```

## ğŸ”„ ì›Œí¬í”Œë¡œìš°

1. **í™˜ê²½ ì²´í¬**: ë„¤íŠ¸ì›Œí¬ í™˜ê²½ ë° NAS ì—°ê²° ìƒíƒœ í™•ì¸
2. **DSM ë¡œê·¸ì¸**: API ì¸ì¦ì„ ìœ„í•œ ì„¸ì…˜ ìƒì„±
3. **ì„œë¹„ìŠ¤ ê´€ë¦¬**: ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ê·œì¹™ ì¶”ê°€/ì‚­ì œ/ì¡°íšŒ
4. **ìƒíƒœ í™•ì¸**: ì„œë¸Œë„ë©”ì¸ ì ‘ì† ë° ë‚´ë¶€ ì„œë¹„ìŠ¤ ë™ì‘ í™•ì¸
5. **ë¡œê·¸ì•„ì›ƒ**: ë³´ì•ˆì„ ìœ„í•œ ì„¸ì…˜ ì¢…ë£Œ

## ğŸ“š ì°¸ê³  ìë£Œ

- [Synology DSM API Guide](https://global.download.synology.com/download/Document/Software/DeveloperGuide/Package/FileStation/All/enu/Synology_File_Station_API_Guide.pdf)
- [DSM Reverse Proxy ì„¤ì •](https://kb.synology.com/en-us/DSM/help/DSM/AdminCenter/connection_network_reverseproxy)
- [OpenVPN ì„¤ì • ê°€ì´ë“œ](../../Vpn/README.md)

## ğŸ†˜ ì§€ì›

ë¬¸ì œ ë°œìƒ ì‹œ:
1. ë¡œê·¸ í™•ì¸: DSM > ë¡œê·¸ ì„¼í„°
2. ë„¤íŠ¸ì›Œí¬ ì„¤ì • í™•ì¸: `./network-check.sh check`
3. ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸: `./subdomain-manager.sh status`
4. GitHub Issuesì— ë¬¸ì œ ë³´ê³ 
